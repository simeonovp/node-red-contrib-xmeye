<script type="text/javascript">
  RED.nodes.registerType('xmeye-config',{
    category: 'config',
    color: '#7171d5',
    defaults: {
      ip: {value:"", required:true},
      port: {value:34567, required:true},
      timeout: {value: 5000, require:true}, // Default is otherwise 120 sec in agsh/onvif
      name: {value:""}
    },          
    credentials: {
      user: {value:"admin", type:"text"},
      password: {value:"888888", type: "password"}
    },        
    inputs:1,
    outputs:1,
    icon: "config.png",
    label: function() {
      return this.name || "Xmeye device config";
    },
    oneditprepare: function() {
      //---
      // // Old nodes had no timeout property (which means the default timeout of 12 seconds from the agsh/onvif library was being used)
      // if (this.timeout == undefined) {
      //     $('#node-config-input-timeout').val(3);
      // }
    }
  });
</script>

<script type="text/html" data-template-name="xmeye-config">
  <div class="form-row">
    <label for="node-config-input-ip"><i class="fa fa-globe"></i> IP address</label>
    <input type="text" id="node-config-input-ip">
  </div>
  <div class="form-row">
    <label for="node-config-input-port"><i class="fa fa-random"></i> Media Port</label>
    <input type="text" id="node-config-input-port">
  </div>
  <br>
  <div class="form-row">
    <label for="node-config-input-user"><i class="fa fa-user"></i> User</label>
    <input type="text" id="node-config-input-user">
  </div>
  <div class="form-row">
    <label for="node-config-input-password"><i class="fa fa-lock"></i> Password</label>
    <input type="password" id="node-config-input-password">
  </div>
  <br>
  <div class="form-row">
    <label for="node-config-input-timeout"><i class="icon-tag"></i> Timeout</label>
    <input type="number" id="node-config-input-timeout">
  </div>
  <br>
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>

<script type="text/html" data-help-name="xmeye-config">
  <p><strong>IP address:</strong><br/> The IP address of the Xmeye device.</p>
  <p><strong>Port:</strong><br/> The media port number of the Xmeye device.</p>
  <p><strong>User name:</strong><br/>  An optional user name for basic authentication on the Xmeye device.</p>
  <p><strong>Password:</strong><br/>  An optional password for basic authentication on the Xmeye device.</p>
  <p><strong>Timeout:</strong><br/> Specify how many miliseconds needs to be waited for an answer, when connecting to an Onvif device.  When no response has been received during the timeout interval, the device will be considered as 'disconnected'.</p>
</script>